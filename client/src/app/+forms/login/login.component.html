<div class="container login-container mt-0 pt-0">
  <form [formGroup]="registerForm" (ngSubmit)="registerForm.valid && login()">
    <app-text-input
      [formControl]="registerForm.controls['username']"
      [placeholder]="'Username'"
    ></app-text-input>
    <app-text-input
      [formControl]="registerForm.controls['password']"
      [placeholder]="'Password'"
      [type]="'password'"
    >
    </app-text-input>
    <div class="row" *ngIf="validationErrors.length > 0">
      <ul class="text-danger">
        <li *ngFor="let error of validationErrors">
          {{ error }}
        </li>
      </ul>
    </div>

    <div class="form-group">
      <button
        [disabled]="!registerForm.valid"
        class="btn btn-info mr-2"
        type="submit"
      >
        Login
      </button>
      <button
        id="register"
        class="btn btn-link mr-2"
        (click)="openModalWithClass(template)"
        type="button"
      >
        Register
      </button>
    </div>
  </form>
</div>

<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Create Your Account</h4>
    <button
      type="button"
      class="close pull-right"
      aria-label="Close"
      (click)="modalRef.hide()"
    >
      <span aria-hidden="true">Ã—</span>
    </button>
  </div>
  <div class="modal-body">
    <app-registration></app-registration>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-default" (click)="modalRef.hide()">
      Close
    </button>
  </div>
</ng-template>
